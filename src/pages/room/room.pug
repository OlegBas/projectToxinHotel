extends ../../layouts/layoutOnDefault
include ../../components/formBox/formBox
include ../../components/input/input
include ../../components/button/button
include ../../components/galleryImages/galleryImages
include ../../components/bulletList/bulletList
include ../../components/advantagesList/advantagesList
include ../../components/comment/comment
include ../../components/price/price
include ../../components/dateDropdown/dateDropdown
include ../../components/selectElement/selectElement
include ../../lib

block head
  - var title = "Информация о номере 888";

block footer
  - var isUnderlined = true

block logo
  - var isMainPage = false

block content
  -
    var roomImages = [
      {src: "assets/images/sliders/1.jpg", alt: "Комната в бежевых тонах. Посередине двуспальная кровать. Перед ней пуфик с узором 'морской огурец' бирюзового цвета"},
      {src: "assets/images/sliders/2.jpg", alt: "Кабинет с односпальной кроватью. Слева от входа стол"},
      {src: "assets/images/sliders/3.jpg", alt: "Гостинная с 2 креслами и стеклянным круглым столом. Большие окна"}
    ]
  -
    var rules = [
      "Нельзя с питомцами",
      "Без вечеринок и мероприятий",
      "Время прибытия — после 13:00, а&#160;выезд до 12:00"
    ]
  -
    var features = [
      {icon: "insert_emoticon", title: "Комфорт", subtitle: "Шумопоглощающие стены"},
      {icon: "location_city", title: "Удобство", subtitle: "Окно в каждой из спален"},
      {icon: "whatshot", title: "Уют", subtitle: "Номер оснащён камином"},
    ]

  -
    var fiveDaysAgo = new Date().setDate(new Date().getDate() - 5)
    var weekAgo = new Date().setDate(new Date().getDate() - 7)

    var comments = [
      {
        userName: "Мурад Сарафанов",
        userAvatar: "assets/images/avatars/man.jpg",
        date: fiveDaysAgo,
        message: "Великолепный матрас на кровати в основной спальне! А пуфик вообще потрясающий. И стены, действительно, шумоподавляющие. Выкрикивал комплименты повару — никто не жаловался из соседей.",
        likeOptions: {
          count: 12,
          liked: true,
        }
      },
      {
        userName: "Патрисия Стёклышкова",
        userAvatar: "assets/images/avatars/woman.jpg",
        date: weekAgo,
        message: "Обслуживание на высоте! Всё аккуратно, чисто. Завтраки в номер советую заказать, каждый день новое блюдо и десерт как комплимент",
        likeOptions: {
          count: 2,
          liked: false,
        }
      },
    ]

  main.roomPage
    +galleryImages(roomImages)
    .container
      .roomDescription
        .roomDescription__column
          .roomDescription__group
            section.roomDescription__item.descriptionBlock
              h2.descriptionBlock__title Сведения о номере
              +advantagesList(features)

            section.roomDescription__item.descriptionBlock
              h2.descriptionBlock__title Впечатления от номера
              

          .roomDescription__group
            section.roomDescription__item.descriptionBlock
              h2.descriptionBlock__title Отзывы посетителей номера
                span.descriptionBlock__counter
                  != `${comments.length}&nbsp;`
                  +translateWord(comments.length, ["отзыв", "отзыва", "отзывов"])
              ul.commentsList
                for comment in comments
                  li.commentsList__item
                    +comment(comment)

          .roomDescription__group
            section.roomDescription__item.descriptionBlock.descriptionBlock_width292.descriptionBlock
              h2.descriptionBlock__title.descriptionBlock__title Правила
              +bulletList(rules)
            section.roomDescription__item.descriptionBlock.descriptionBlock_width341
              h2.descriptionBlock__title Отмена
              p.descriptionBlock__paragraph
                | Бесплатная отмена в течение 48 ч. 
                | После этого при отмене не позднее чем за 5 дн. до прибытия
                | вы получите полный возврат за вычетом сбора за услуги.
        .roomDescription__column
          - var today = new Date()
          - var todayYY = today.getFullYear()
          - var todayMM = today.getMonth() + 1 < 10 ? `0${today.getMonth() + 1}` : today.getMonth() + 1
          - var todayDD = today.getDate() < 10 ? `0${today.getDate()}` : today.getDate()
          - var minDate = `${todayYY}-${todayMM}-${todayDD}`
          - var maxDate = `${todayYY + 1}-${todayMM}-${todayDD}`
          -
            var items = [
              {title: "Взрослые", count: 2, typeOfData: "Гости"},
              {title: "Дети", count: 1, typeOfData: "Гости"},
              {title: "Младенцы", count: 0},
            ]
          .roomDescription__card.roomDescription__card_fixed
            +formBox({number: "888", isLux: true, cost: 9990})
                .formBox__item.mb20
                    +dateDropdown({split: true, start: new Date(2020, 7, 19), end: new Date(2020, 7, 23)})
                .formBox__item.mb20
                    +selectElement({items: itemsWithGuests, label: "Гости", name: "guestCount", required: true, placeholder: "Сколько гостей", withButtons: true})
                .formBox_item
                    +price({roomCost: 9990, days: 4, servicesCost: -2179, additional: 300})
                .formBox__item.mb21
                    +button({name: "Забронировать", icon: "arrow_forward", size: "l"})(type="submit")
                    